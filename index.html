<!doctype html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7" lang=""> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8" lang=""> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9" lang=""> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang=""> <!--<![endif]-->
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Mark Purser, Freelance Software Developer, Home Page</title>
    <meta name="description" content="Based near Brighton, UK, I offer bespoke web, e-commerce and embedded software development services">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="apple-touch-icon" href="apple-touch-icon.png">

    <link rel="stylesheet" href="css/normalize.css">
    <link rel="stylesheet" href="css/main.css">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Raleway:400,300,600">

    <script src="js/vendor/modernizr-2.8.3-respond-1.4.2.min.js"></script>
    <script src="js/vendor/jquery-3.2.1.min.js"></script>
    <script src="https://use.fontawesome.com/55ecca03f4.js"></script>

  </head>
  <body>
      <!--[if lt IE 8]>
        <p class="browserupgrade">You are using an <strong>outdated</strong> browser. Please <a href="http://browsehappy.com/">upgrade your browser</a> to improve your experience.</p>
      <![endif]-->

    <header>
      <nav>
        <a href="#" class="highlight">Home</a>
        <a href="#services">Services</a>
        <a href="#projects">Projects</a>
        <a href="#">About</a>
        <a href="#contact">Contact</a>
      </nav>

      <article>
          <div class="title">Mark Purser</div>
          <div class="subtitle">Freelance Software Developer</div>
          <div class="strapline">
            <p>I am a freelance software developer. I've been creating <strong>web, embedded and games</strong> applications for 15+ years, establishing strong <strong>relationships</strong> with clients and organisations. <strong>Quality</strong> is a key characteristic of my work, with an emphasis on <strong>testing and best practices</strong>. I can deliver timely results but I'm always challenging myself to explore the principles underlying what I produce. For me it is about making great products that benefit the client and go beyond expectations.</p>
            <p>To find out more about me click here. I am interested in collaborations and working on open source projects. I would love to demonstrate the positive contributions I can make towards your team.</p>
            <div class="socialmedia">
              <a href="https://www.linkedin.com/pub/mark-purser/6/3a7/404"><i class="fa fa-linkedin-square"></i></a>
              <a href="https://twitter.com/MarkPurser4"><i class="fa fa-twitter-square"></i></a>
              <a href="https://github.com/markpurser"><i class="fa fa-github-square"></i></a>
            </div>
          </div>
          <br>
          <br>
          <br>
      </article>

    </header>

    <section id="services" class="services">
      <article class="services-article">
        <h1>Services</h1>

        <ul>
          <li>
            <h3>Web Applications</h3>
            <p>Bespoke development using Laravel, PHP, AngularJS</p>
          </li>
          <li>
            <h3>E-Commerce</h3>
            <p>Integrating your website to accept payments from a variety of payment gateways</p>
          </li>
          <li>
            <h3>Embedded and Safety Critical Software</h3>
            <p>Native applications built in C++ to IEC 61508 and IEC 62304. I can also create applications targetted to mobile using Java or C# (Xamarin)</p>
          </li>
          <li>
            <h3>Legacy Upgrades and Migration</h3>
            <p>Taking legacy systems and performing upgrades and migrations</p>
          </li>
          <li>
            <h3>Configuration and Troubleshooting</h3>
            <p>Linux configuration and troubleshooting of issues</p>
          </li>
        </ul>
        <p><a href="#" role="button">Learn more &raquo;</a></p>
      </article>
    </section>


    <section id="projects" class="portfolio">
      <div>
        <h1>Projects</h1>
            
          <article class="projectitem">
            <div>
              <h2>GSEA</h2>
              <p><a href="https://www.gseaonline.com/">GSEA</a></p>
              <p>GSEA's mission is to provide subscription-based IT security products and services to it's own organisation and the wider charity sector. The webstore needed to be responsive and the back office system to track products, redeemable codes and accounts. Part of the work involved migrating from their legacy system. I built the web app using Laravel and AngularJS with integrations to Braintree, LDAP and IceWarp.
              <p>Design and CSS: Tim Rackham</p>

            </div>
            <div>
              <a href="https://www.gseaonline.com/">
                <img src="img/gsea/landing_page.png" alt="Screenshot of GSEA">
              </a>
            </div>
          </article>

          <article class="projectitem">
            <div>
              <h2>laravel-crudkit</h2>
              <h3>Open Source</h3>
              <p><a href="https://github.com/markpurser/laravel-crudkit/">laravel-crudkit on github</a></p>
              <p><a href="https://github.com/markpurser/laravel-crudkit/wiki/">Wiki</a></p>
              <p><em>laravel-crudkit</em> is a CRUD framework for Laravel 5.3+. It provides a user-friendly frontend to view, create, update and delete database records in a SQL relational database. Unlike most CRUD frameworks, the frontend is constructed using a simple PHP fluent interface and can be easily retro-fit to an existing database schema.</p>
            </div>
            <div>
              <a href="https://github.com/markpurser/laravel-crudkit/">
                <img src="img/laravel-crudkit.png" alt="Screenshot of laravel-crudkit">
              </a>
            </div>
          </article>

          <article class="projectitem">
            <div>
              <h2>es6-defender</h2>
              <h3>Open Source</h3>
              <p><a href="https://www.gseaonline.com/">GSEA</a></p>
              <p><em>es6-defender</em> is a clone of Classic Defender written in ES6 Javascript. It was written as a learning and teaching exercise in functional programming for games. The aim was for the code to be concise whilst still being readable and extensible. The secondary goal was to publish a set of companion tutorials.</div>
            <div>
              <a href="#">
                <img src="img/es6-defender.png" alt="Screenshot of es6-defender">
              </a>
            </div>
          </article>

      </div>
    </section>

    <section id="contact" class="contact">
      <h1>Get in Touch</h1>

      <form action="https://www.enformed.io/mt25iw3p" method="POST">
        <div class="form-group">
          <input style="width:100%" name="first_name" placeholder="Name" type="text" class="form-control" required="required"/>
        </div>
        <div class="form-group">
          <input style="width:100%" name="email" placeholder="Email" type="email" required="required"/>
        </div>
        <div class="form-group">
          <textarea rows="6" style="width:100%" name="message" placeholder="Message" type="text" class="form-control" required="required"></textarea>
        </div>
        <input type="hidden" name="*honeypot" />
        <input class="formbutton" type="submit" value="Send"/>
      </form>
    </section>


    <section class="about">
      <div>
        <h1>About</h1>

        <article>
          <p>I started as a freelancer in 2015, initially working on an e-commerce web application in the charity sector.</p>
          <p>Since then I have been developing open source projects, troubleshooting web sites and creating financial trading indicators.</p>
          <p>My past experience has been in the aviation/flight simulation industry for 10 years. I have also 3 years experience in VR, 3 years console games and another 2 years in the medical sector. The latter included safety-critical software to IEC 61508 and IEC 62304.</p>
          <p>I've made programming my career because there always seems to be more to learn and the industry is always changing. I love talking with other coders and sharing experiences with technology. I believe that great software is built on good communication and transparency.</p>
        </article>
      </div>
    </section>

    <section class="skills">
      <div>
        <h1>Skills</h1>

        <article>
          <li>Languages: C++ (MISRA, Boost), PHP, ES6 Javascript, Matlab, C#, Python, Java, Assembly Language (6502, 68000, Hitachi H8)</li>
          <li>Front End: HTML5, CSS3, XML, JSON, JQuery, AngularJS</li>
          <li>Back End: Laravel, ASP.NET, QT, Mono (Xamarin), Android SDK, OpenFrameworks</li>
          <li>Servers: Apache, Tomcat, Glassfish</li>
          <li>Databases: MySQL, SQL Server, SQLite</li>
          <li>Platforms: Linux, Xbox360, PS3, Android, iOS</li>
          <li>Tools: Git, SVN, Perforce, Vagrant, Jira, Rational DOORS, HP ALM, Hansoft, Jenkins, Enterprise Architect, PHPUnit, Googletest, Hippomocks</li>
          <li>Image Processing: OpenCV, Matlab Image Processing Toolkit, ImageJ, IrfanView</li>
        </article>
      </div>
    </section>

    <section class="articles">
      <div>
        <h1>Articles</h1>

        <article>
          <p><a href="#">Haskell Christmas Tree</a></p>
          <p><a href="#">Programming a retro game in functional-style ES6</a></p>
        </article>
      </div>
    </section>

    <section class="hobbies">
      <div>
        <h1>Hobbies</h1>

        <article>
          <h3>Robots</h3>

          <p>This is the robot project that I work on in my spare time. It has a Raspberry Pi as the main compute module and Arduino interfacing to the camera and other hardware. It is programmed in Python. My goal is to get some route navigation working. At it's simplest level this can be done with a proximity sensor and by using dead reckoning to build a map of the environment. But I plan to augment this with visual input to increase robustness. Building up snapshots of your environment creates a memory that can be recalled as a 'visual compass'. The method is inspired by how ants navigate their way in the world.</p>
        </article>

        <article>
          <h3>Retro games and roguelikes</h3>

          <p>I like retro game programming and have programmed a Galaxian clone on the C64 and a Defender clone in ES6. I'm also a fan of roguelikes such as TomeNET. I like the looks of ROT.js</p>
        </article>

        <article>
          <h3>Warhammer 40k painting</h3>

          <p>I paint these Dark Eldar models in my spare time.</p>
        </article>

        <article>
          <h3>Cycling and walking</h3>

          <p>I cycle to Shoreham and back with friends. I'm also part way through completing the South Downs Way and am planning to do a Macmillan charity walk this year.</p>
        </article>

      </div>
    </section>

    <section class="blog">
      <div>
        <h2>Blog</h2>

        <article>
          <p>Haskell Christmas Tree</p>

          <p>date: 2017-01-03 12:05:35 +0000</p>
          <p>categories: [Functional Programming, Haskell]</p>

          <p>Below is my solution to one of the exercises created by the [Functional Brighton](https://www.meetup.com/Functional-Brighton) group: draw a Christmas tree to the console, given the height of the tree as input. It demonstrates some of the Input and Output of Chapter 9 of [Learn You A Haskell For Great Good](http://learnyouahaskell.com).</p>

          <p>In terms of tree visuals we are going for a fairly minimalist approach:</p>

          <code>
          runhaskell xmas 4

              *
             ***
            *****
           *******
              |
          </code>

          <p>To model the tree, draw from two sets of integers. The first being the number of spaces preceding each row - simply beginning at height-1 and decrementing to 0 (the last row of the tree, ignoring the trunk)</p>

          <code>
          nspaces :: Int -> [Int]
          nspaces a = reverse $ take a [0..]
          </code>

          <p>The second set of integers represent the stars that make up the actual tree. The set consists of the odd numbers beginning from 1. These are generated using a list comprehension:</p>

          <code>
          nstars :: Int -> [Int]
          nstars a = take a [x | x <- [1..], odd x]
          </code>

          <p>Now we simply zip these two sets together into a list of tuples:</p>

          <code>
          let treemodel = zip (nspaces height) (nstars height)
          </code>

          <p>And run them through a stringifyer, converting each tuple to a number of space characters followed by a number of stars characters:</p>

          <code>
          stringifytreerow :: (Int, Int) -> [Char]
          stringifytreerow (nspaces, nstars) = (take nspaces $ repeat ' ') ++ (take nstars $ repeat '*')
          </code>

          <p>And now to the whole point of the IO chapter, to display something! It's simple using mapM_ which maps putStrLn over all tree strings and sequences the resulting IO actions. We display the tree trunk at the same time:</p>

          <code>
          mapM_ putStrLn $ treestrings
          putStrLn trunkstring
          </code>

          <h3>Limitations</h3>

          <p>The program does not check for invalid input, such as height 0</p>

          <h3>Full listing</h3>

          <script src="https://gist.github.com/markpurser/18ef346fcbd509e4b3ed4342048a9bb6.js"></script>
        </article>
        
        <article>
          <h2>Programming a retro game in functional-style ES6</h2>
          <h3>Intro</h3>

          <p>ES6 adds some cool features such as the arrow function syntax =>. Combined with the map, filter and reduce functions (introduced in ES5 Array.prototype) makes for some expressive coding opportunities in Javascript. And what better way to start than to create this Classic Defender clone (c William's)</p>

          <p>In making this game, I am aiming for a learning and teaching exercise. In that respect it's an experiment in ES6 and functional programming. As such, I have not attempted to balance the game or create some great graphics.</p>

          <h3>Structuring your Code</h3>
          <p>When starting from a clean slate, the obvious question is how do you structure your code? I can recommend this blog <a href="http://prog21.dadgum.com/23.html">here</a> which contains some great practical tips on structuring functional code for games.</p>

          <p>There are also a few anti-patterns that I want to avoid. Some Clojure game code I've seen simply pass around huge structures of state and use update-in to mutate parts of the structure. This isn't exactly a good way to utilise a functional language.</p>

          <p>With this in mind, I have stuck to a few simple rules:</p>
          <ol>
            <li>the code must be concise but still be readable and extensible</li>
            <li>every function does a single, simple task. pass in only the parameters that are required for the function to perform it's task</li>
            <li>define custom data types using classes. allow inheritance, but no class methods or polymorphism</li>
            <li>avoid large structures. prefer parallel arrays or association using maps</li>
            <li>functions with side-effects should be isolated and labelled as such</li>
            <li>easily unit testable</li>
          </ol>

          <h3>Retro Vision</h3>
          <p>To make the game really retro the graphics are drawn in an emulated ascii mode on an HTML5 canvas. Instead of moving sprites around, the retrovision.js code uses fixed sprites to make a grid of characters.</p>

          <p>All coordinate systems are based on characters not pixels.</p>

          <p>retrovision.js is built on top of PIXI.js so is nice and fast</p>

          <h3>Tutorial 01 - Player and Controls</h3>

          <p>The code for the first part of this tutorial can be found in es6-defender-tut01.js</p>

          <h3>Data Types</h3>
          <p>The first thing we need to do is clearly define our data types. It's important to create structures that model exactly what our game elements will need.</p>

          <p>ES6 has the new class syntax which we will use to define our custom data type. To model the state of the player we need some sort of state machine. We also need to track position and velocity.</p>

          <p>As is normal in game programming, there are several game objects that we need to represent and inheritance is a good way of sharing characteristics between classes. In this case we use a base class containing position and velocity data members. The base class is called StateVector. I also add an id member, a unique identifier, which isn't strictly part of a state vector but it's convenient to store it here.</p>

          <p>The Player super class contains the state of the player state machine. It also includes t_startState which is the time that the last state change occurred.</p>

          <script src="https://gist.github.com/markpurser/d62e51cdf92d7d1135713c2d354ecb3c.js?file=player-datatypes.js"></script>

          <p>For the player movement we need some constants that we can tweak. We have playerMaxSpeed X and Y; the units are chars/second. Damping is also measured in chars/second and Acceleration is in chars/second<sup>2</sup>.</p>

          <script src="https://gist.github.com/markpurser/d62e51cdf92d7d1135713c2d354ecb3c.js?file=player-constants.js"></script>

          <p>Next we create the graphical aspects of the Player with static data members. The sideLen is the width/length of the game object used for collisions. The graphic variable is the string of ascii codes that index into the tile map terminal.png.</p>

          image here

          <p>There are two graphics for the Player representing left and right directions. The colour is a simple RGB value.</p>

          <script src="https://gist.github.com/markpurser/d62e51cdf92d7d1135713c2d354ecb3c.js?file=player-appearance.js"></script>

          <p>Having defined our player attributes, we can start updating and drawing to the screen!</p>

          <h3>Update Player</h3>

          <p>As mentioned in the intro, the aim is to decompose functions into small units that perform single tasks. One way of doing this is to separate the update of state and the update of position. This way we limit the number of arguments (dependencies) on each function.</p>

          <p>The update state function is very simple. The only dependencies are the player object itself, the input controls (keyboard keypresses) and a boolean indicating if the player is dead. If the player presses left arrow key, we set the state to faceLeft, and vice versa.</p>

          <script src="https://gist.github.com/markpurser/d62e51cdf92d7d1135713c2d354ecb3c.js?file=player-updatestate.js"></script>

          <p>Updating the position requires the state vector of the player, the input controls and delta time, the time elapsed since the previous frame. The use of dt in the model ensures that the physics calculations are referenced to real time and not to simulation time.</p>

          <script src="https://gist.github.com/markpurser/d62e51cdf92d7d1135713c2d354ecb3c.js?file=player-updatepos.js"></script>

          <h3>Drawing</h3>

          <p>Two coordinate systems are used - global and local. The global coordinate system is always aligned with the player in x. The local coordinate system is the fixed coordinates of the canvas tilemap aligned with the top-left corner. To transform between the two, an offset variable is used named offsetx. It contains the x displacement between the two coordinate systems.</p>

          <p>y is the same in both coordinate systems and requires no transformation.</p>

          <p>The function that performs the x transformation is called toLocal. We also need to determine if any local coordinates lie outside of the canvas boundary before drawing anything. The clip function does this.</p>

          <script src="https://gist.github.com/markpurser/d62e51cdf92d7d1135713c2d354ecb3c.js?file=player-coordtransform.js"></script>

          <p>Getting the player drawn to the screen is simply a case of transforming, clipping and sending the graphics to the textmap (retrovision.js). There is an intermediate stage where we create a graphics map and a display list. This is so that we can decouple the specific game objects from the generic drawing algorithm. In OOP it would be done using polymorphism.</p>

          <script src="https://gist.github.com/markpurser/d62e51cdf92d7d1135713c2d354ecb3c.js?file=player-draw.js"></script>

          <p>Lastly we update the offsetx displacement based on player movement and apply easing so that any transition is smooth.</p>

          <script src="https://gist.github.com/markpurser/d62e51cdf92d7d1135713c2d354ecb3c.js?file=player-localoffset.js"></script>

          <p>Tutorial 02 coming soon...</p>

        </article>
        
      </div>
    </section>




    <footer>
      <address>
        <span>Address:</span>
        Mark Purser, Flat 1, 8 Chaucer Road, Worthing, West Sussex, BN11 4PB
      </address>
    </footer>

<!--
    <script src="js/vendor/jquery-1.11.2.min.js"></script>
    <script src="js/vendor/bootstrap.min.js"></script>
-->
    <script src="js/plugins.js"></script>
    <script src="js/main.js"></script>
  </body>
</html>
